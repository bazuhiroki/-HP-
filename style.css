/* 基本設定 */
body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    background-color: #f0f2f5;
    color: #1c1e21;
}
.site-header { padding: 20px 5%; /* ...前回のコードと同じ... */ }

/* Gridコンテナ */
.grid-container {
    display: grid;
    height: 80vh;
    grid-template-columns: 1fr 1.5fr 1.5fr 1fr;
    grid-template-rows: repeat(4, 1fr);
    gap: 15px;
    padding: 0 5%;
    /* フォーカス解除時のトランジション */
    transition: all 0.5s ease-in-out;
}

/* Gridアイテムの共通スタイル */
.grid-item {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    text-decoration: none;
    color: #333;
    cursor: pointer;
    /* アニメーションの指定 */
    transition: all 0.5s ease-in-out;
    position: relative; /* 詳細コンテンツの基準点 */
    overflow: hidden; /* はみ出した詳細コンテンツを隠す */
}

/* 通常時のアイテム内のコンテンツ */
.grid-item .content-main {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    transition: opacity 0.3s ease-in-out;
}

/* フォーカス時に表示される詳細コンテンツ（普段は隠れている） */
.grid-item .content-detail {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    padding: 20px;
    box-sizing: border-box;
    opacity: 0;
    transition: opacity 0.3s ease-in-out 0.3s; /* 少し遅れて表示 */
}

/* --- ここからが「フォーカス・モード」のスタイル --- */

/* コンテナに .focus-active が付いた時のスタイル */
.grid-container.focus-active {
    /* 背景をクリックして戻れるようにgapを広げる */
    gap: 30px; 
}

/* フォーカス時、フォーカスされていないアイテムのスタイル */
.grid-container.focus-active .grid-item {
    opacity: 0.3;
    transform: scale(0.9);
}

/* フォーカス時、フォーカスされたアイテムのスタイル */
.grid-container.focus-active .grid-item.is-focused {
    opacity: 1;
    transform: scale(1);
    /* 中央の大きなエリアに移動 */
    grid-area: 1 / 2 / 5 / 4;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

/* フォーカスされたアイテム内のコンテンツのスタイル */
.grid-container.focus-active .grid-item.is-focused .content-main {
    opacity: 0; /* メインのタイトルは隠す */
}
.grid-container.focus-active .grid-item.is-focused .content-detail {
    opacity: 1; /* 詳細コンテンツを表示 */
}
